<%# Mantiene otros par치metros de la URL y s칩lo cambia season_id %>
<% current_params = request.query_parameters.symbolize_keys.except(:season_id) %>

<%= form_with url: request.path, method: :get, local: true, class: "season-select d-flex align-items-center gap-2" do %>
  <% current_params.each do |k, v| %>
    <%= hidden_field_tag k, v %>
  <% end %>

  <span class="text-muted small d-none d-md-inline">Temporada</span>

  <div class="input-group input-group-sm" style="min-width: 230px;">
    <span class="input-group-text bg-dark text-light border-secondary">
      <i class="fa-solid fa-trophy text-warning"></i>
    </span>
    <%= select_tag :season_id,
                   options_for_select(
                     [["Global (hist칩rico)", nil]] +
                     @seasons.map { |s| [s.name, s.id] },
                     @selected_season&.id
                   ),
                   class: "form-select bg-dark text-light border-secondary",
                   onchange: "this.form.requestSubmit()",
                   data: { turbo_frame: "_top" } %>
  </div>

  <% if @selected_season&.active? %>
    <span class="badge bg-success text-dark">Activa</span>
  <% elsif @selected_season.present? %>
    <span class="badge bg-secondary">Hist칩rica</span>
  <% end %>
<% end %>
