<% best  = @synergy[:best_teammate] %>
<% worst = @synergy[:worst_teammate] %>
<% nem   = @synergy[:nemesis] %>

<div class="row text-center g-3">
  <!-- Best teammate -->
  <div class="col-md-4">
    <% if best %>
      <%= link_to player_path(best[:player]), class: "text-decoration-none text-light" do %>
        <div class="synergy-card synergy-win h-100">
          <div class="synergy-icon">ü§ù</div>
          <h6 class="fw-bold mb-2">Mejor Compa√±ero</h6>
          <p class="mb-1 fs-5"><%= best[:player].full_name %></p>
          <small>
            Juntos: <%= best[:wins] %>/<%= best[:total] %> ‚Ä¢
            <%= sprintf('%.1f', best[:win_rate]) %>% victorias
          </small>
        </div>
      <% end %>
    <% else %>
      <div class="synergy-card synergy-empty h-100">
        <h6 class="fw-bold mb-2">Mejor Compa√±ero</h6>
        <small class="text-muted">A√∫n no hay suficientes partidos.</small>
      </div>
    <% end %>
  </div>

  <!-- Worst teammate -->
  <div class="col-md-4">
    <% if worst %>
      <%= link_to player_path(worst[:player]), class: "text-decoration-none text-light" do %>
        <div class="synergy-card synergy-lose h-100">
          <div class="synergy-icon">üò¨</div>
          <h6 class="fw-bold mb-2">Peor Compa√±ero</h6>
          <p class="mb-1 fs-5"><%= worst[:player].full_name %></p>
          <small>
            Perdieron <%= worst[:losses] %>/<%= worst[:total] %> ‚Ä¢
            <%= sprintf('%.1f', worst[:loss_rate]) %>% derrotas
          </small>
        </div>
      <% end %>
    <% else %>
      <div class="synergy-card synergy-empty h-100">
        <h6 class="fw-bold mb-2">Peor Compa√±ero</h6>
        <small class="text-muted">A√∫n no hay suficientes partidos.</small>
      </div>
    <% end %>
  </div>

  <!-- Nemesis -->
  <div class="col-md-4">
    <% if nem %>
      <%= link_to player_path(nem[:player]), class: "text-decoration-none text-light" do %>
        <div class="synergy-card synergy-nemesis h-100">
          <div class="synergy-icon">‚öîÔ∏è</div>
          <h6 class="fw-bold mb-2">N√©mesis Personal</h6>
          <p class="mb-1 fs-5"><%= nem[:player].full_name %></p>
          <small>
            Contra √©l: <%= nem[:wins] %>/<%= nem[:total] %> ‚Ä¢
            <%= sprintf('%.1f', nem[:win_rate]) %>% victorias
          </small>
        </div>
      <% end %>
    <% else %>
      <div class="synergy-card synergy-empty h-100">
        <h6 class="fw-bold mb-2">N√©mesis Personal</h6>
        <small class="text-muted">A√∫n no hay suficientes partidos.</small>
      </div>
    <% end %>
  </div>
</div>

<style>
    .synergy-card {
        border-radius: 1rem;
        padding: 1.2rem;
        transition: transform .2s ease, box-shadow .2s ease;
    }
    .synergy-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 20px rgba(0,0,0,.4);
        cursor: pointer;
    }
    .synergy-icon {
        font-size: 2rem;
        margin-bottom: .5rem;
    }
    /* Colors by type */
    .synergy-win    { background: linear-gradient(135deg, #1e7d32, #2ecc71); }
    .synergy-lose   { background: linear-gradient(135deg, #7d1e1e, #e74c3c); }
    .synergy-nemesis{ background: linear-gradient(135deg, #5e2e91, #9b59b6); }
    .synergy-empty  { background: #2c3137; color: #aaa; }
</style>
