<% best  = @synergy[:best_teammate] %>
<% worst = @synergy[:worst_teammate] %>
<% nem   = @synergy[:nemesis] %>

<% if best || worst || nem %>
  <div class="card shadow-sm mb-5">
    <div class="card-body">
      <h5 class="card-title mb-4">
        <i class="fas fa-users me-2 text-primary"></i>Conexiones de Juego
      </h5>

      <div class="row text-center g-3">
        <!-- ü§ù Mejor Compa√±ero -->
        <div class="col-md-4">
          <div class="p-3 rounded-4 bg-dark text-light shadow-sm h-100">
            <h6 class="fw-bold mb-2">ü§ù Mejor Compa√±ero</h6>
            <% if best %>
              <p class="mb-1 fs-5"><%= best[:player].full_name %></p>
              <small class="text-muted">
                Juntos: <%= best[:wins] %>/<%= best[:total] %> ‚Ä¢
                <%= sprintf('%.1f', best[:win_rate]) %>% victorias
              </small>
            <% else %>
              <small class="text-muted">A√∫n no hay suficientes partidos.</small>
            <% end %>
          </div>
        </div>

        <!-- üò¨ Peor Compa√±ero (m√°s derrotas juntos) -->
        <div class="col-md-4">
          <div class="p-3 rounded-4 bg-dark text-light shadow-sm h-100">
            <h6 class="fw-bold mb-2">üò¨ Peor Compa√±ero</h6>
            <% if worst %>
              <p class="mb-1 fs-5"><%= worst[:player].full_name %></p>
              <small class="text-muted">
                Juntos perdieron <%= worst[:losses] %>/<%= worst[:total] %> ‚Ä¢
                <%= sprintf('%.1f', worst[:loss_rate]) %>% derrotas
              </small>
            <% else %>
              <small class="text-muted">A√∫n no hay suficientes partidos.</small>
            <% end %>
          </div>
        </div>

        <!-- ‚öîÔ∏è N√©mesis (rival) -->
        <div class="col-md-4">
          <div class="p-3 rounded-4 bg-dark text-light shadow-sm h-100">
            <h6 class="fw-bold mb-2">‚öîÔ∏è N√©mesis Personal</h6>
            <% if nem %>
              <p class="mb-1 fs-5"><%= nem[:player].full_name %></p>
              <small class="text-muted">
                Contra √©l: <%= nem[:wins] %>/<%= nem[:total] %> ‚Ä¢
                <%= sprintf('%.1f', nem[:win_rate]) %>% victorias
              </small>
            <% else %>
              <small class="text-muted">A√∫n no hay suficientes partidos.</small>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
