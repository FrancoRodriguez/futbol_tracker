<section class="card shadow-sm border border-warning bg-dark text-light rounded-4 mb-4 p-3 p-md-4">
  <div class="row g-3 align-items-center text-center text-md-start">

    <!-- Fecha y Lugar -->
    <div class="col-12 col-md-auto d-flex justify-content-center justify-content-md-start">
      <div class="d-flex align-items-start">
        <i class="fas fa-calendar-alt me-2 fs-5 flex-shrink-0 mt-1 text-warning"></i>
        <div>
          <div class="fw-semibold"><%= date_in_spanish(match.date) %></div>
          <small class="text-muted d-block">
            <i class="fas fa-map-marker-alt me-1"></i>
            <%= match.location.presence || "Ubicación no disponible" %>
          </small>
        </div>
      </div>
    </div>

    <!-- Resultado (compacto) -->
    <div class="col-12 col-md d-flex justify-content-center">
      <% if match.result.present? %>
        <%= render "matches/show/result_compact", match: match %>
      <% elsif user_signed_in? %>
        <button type="button" class="btn btn-outline-primary btn-sm"
                data-bs-toggle="modal" data-bs-target="#addResultModal-<%= match.id %>">
          Agregar resultado
        </button>
      <% else %>
        <span class="fst-italic text-muted">Resultado no disponible</span>
      <% end %>
    </div>

    <!-- Clima -->
    <% if @match_weather.present? %>
      <div class="col-12 col-md-auto d-flex justify-content-center justify-content-md-end">
        <div class="d-flex align-items-center text-secondary">
          <%= image_tag("https://openweathermap.org/img/wn/#{@match_weather[:icon]}@2x.png",
                        alt: "Clima", width: 36, height: 36, class: "me-2 flex-shrink-0") %>
          <div class="small">
            <div class="fw-semibold text-warning"><%= @match_weather[:weather] %></div>
            <div><%= @match_weather[:temp] %>°C (sens. <%= @match_weather[:feels_like] %>°C)</div>
          </div>
        </div>
      </div>
    <% else %>
      <div class="col-12 col-md-auto d-flex justify-content-center justify-content-md-end">
        <div class="text-muted fst-italic small">Clima no disponible</div>
      </div>
    <% end %>

  </div>
</section>
