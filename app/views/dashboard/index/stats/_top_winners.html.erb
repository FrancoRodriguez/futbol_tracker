<div class="col-md-4 mb-3">
  <div class="card card-primary shadow-sm border-0 h-100">
    <div class="card-body">
      <i class="fas fa-trophy fa-2x text-success mb-3"></i>
      <h5 class="card-title mb-4 fw-bold text-center">Top Ganadores</h5>

      <% @top_winners.each_with_index do |player, i| %>
        <%= link_to player_path(player), class: "text-decoration-none" do %>
          <div class="d-flex align-items-center justify-content-start mb-3 pb-2 border-bottom">
            <div class="me-3 fs-3">
              <%= ["ðŸ¥‡", "ðŸ¥ˆ", "ðŸ¥‰"][i] %>
            </div>

            <% if player.profile_photo.attached? %>
              <%= image_tag player.profile_photo,
                            class: "rounded-circle me-3 border border-warning",
                            style: "width: 50px; height: 50px; object-fit: cover;" %>
            <% else %>
              <%= image_tag "default_avatar.png",
                            class: "rounded-circle me-3 border border-warning",
                            width: 50, height: 50 %>
            <% end %>

            <div>
              <div class="fw-bold mb-0"><%= player.full_name %></div>
              <div class="text-muted small">
                +<%= player.win_diff %> victoria<%= 's' unless player.win_diff == 1 %> de diferencia
              </div>
              <div class="text-muted small">
                <i class="fas fa-futbol me-1"></i>
                <%= pluralize(player.total_matches, "partido") %> jugado<%= 's' unless player.total_matches == 1 %>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
